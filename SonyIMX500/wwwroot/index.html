<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Dashboard Prototyp</title>
        <!-- for responsive -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2.0/dist/css/alt/adminlte.light.min.css" />
        <!--
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.light.min.css" />
        -->
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fontawesome-free@1.0.4/css/all.min.css" />
    </head>
    <body class="hold-transition sidebar-mini layout-fixed">

        <div class="wrapper">

            <div class="preloader flex-column justify-content-center align-items-center">
                <img class="animation__shake" src="images/azure.png" alt="Azure Logo" height="120" width="120">
            </div>

            <!-- Top Navbar -->
            <nav class="main-header navbar navbar-expand navbar-white navbar-light">
                <!-- Top Left navbar links -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                    </li>
                    <li class="nav-item d-none d-sm-inline-block">
                        <a href="#" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item d-none d-sm-inline-block">
                        <a href="#" class="nav-link">API Portal</a>
                    </li>
                </ul>

                <!-- Top Right navbar links -->
                <ul class="navbar-nav ml-auto">

                    <!-- Navbar Search -->
                    <li class="nav-item">
                        <a class="nav-link" data-widget="navbar-search" href="#" role="button">
                            <i class="fas fa-search"></i>
                        </a>
                        <div class="navbar-search-block">
                            <form class="form-inline">
                                <div class="input-group input-group-sm">
                                    <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                                    <div class="input-group-append">
                                        <button class="btn btn-navbar" type="submit">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </li>

                    <!-- Notifications Dropdown Menu -->
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-toggle="dropdown" href="#">
                            <i class="far fa-bell"></i>
                            <span class="badge badge-warning navbar-badge">15</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                            <span class="dropdown-header">15 Notifications</span>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-envelope mr-2"></i> 4 new messages
                                <span class="float-right text-muted text-sm">3 mins</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-users mr-2"></i> 8 friend requests
                                <span class="float-right text-muted text-sm">12 hours</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-file mr-2"></i> 3 new reports
                                <span class="float-right text-muted text-sm">2 days</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
                            <i class="fas fa-th-large"></i>
                        </a>
                    </li>
                </ul>
            </nav>


            <!-- Side Bar -->
            <aside class="main-sidebar sidebar-dark-primary elevation-4">
                <!-- Brand Logo -->
                <a href="index3.html" class="brand-link">
                    <img src="images/azure.png" alt="Brand Logo" class="brand-image img-circle" style=".img-circle.border-circle:10%">
                    <span class="brand-text font-weight-light">Dashboard Sample</span>
                </a>
                <div class="sidebar">
                    <!-- SidebarSearch Form -->
                    <div class="form-inline">
                        <div class="input-group" data-widget="sidebar-search">
                            <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
                            <div class="input-group-append">
                                <button class="btn btn-sidebar">
                                    <i class="fas fa-search fa-fw"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <nav class="mt-2">
                        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                            <li class="nav-item menu-open">
                                <a href="#" class="nav-link active">
                                    <i class="nav-icon fas fa-tachometer-alt"></i>
                                    <span class="badge badge-info right">3</span>
                                    <p>
                                        Drop Down Menu
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="./index.html" class="nav-link active">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Dropdown 1</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="./index.html" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Dropdown 2</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Dropdown 3</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-th"></i>
                                    <p>
                                        Link
                                        <span class="right badge badge-danger">New</span>
                                    </p>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </aside>

            <div class="content-wrapper">
                <section class="content-header">
                    <div class="container-fluid">
                        <div class="row mb-2">
                            <div class="col-md-10">
                                <h1>Sony IMX500 Hands-on Lab</h1>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Main content -->
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12 col-sm-12">
                                <div class="card card-primary card-tabs">
                                    <div class="card-header p-0 pt-1">
                                        <ul class="nav nav-tabs" id="tab-main" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="tab-setup-tab" data-toggle="pill" href="#tabs-setup" role="tab" aria-controls="tabs-setup" aria-selected="true">Setup</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-telemetry-tab" data-toggle="pill" href="#tab-telemetry" role="tab" aria-controls="tab-telemetry" aria-selected="false">Telemetry</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-ai-result-tab" data-toggle="pill" href="#tab-ai-result" role="tab" aria-controls="tab-ai-result" aria-selected="false">AI Result</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-other-tab" data-toggle="pill" href="#tab-other" role="tab" aria-controls="tab-other" aria-selected="false">Other</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-body">
                                        <div class="tab-content" id="tab-main">
                                            <div class="tab-pane fade show active" id="tabs-setup" role="tabpanel" aria-labelledby="tab-setup-tab">
                                                <!-- Progress Bar -->
                                                <div class="row">
                                                    <div class="col-md-10">
                                                        <div class="card">
                                                            <div class="card-header">
                                                                <h3 class="card-title">Overall Progress</h3>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="progress mb-3">
                                                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                                                                         aria-valuemax="100" style="width: 0%">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End of Progress Bar row -->

                                                <div class="row">
                                                    <div class="col-md-10">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div id="accordion">
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseOne">
                                                                                    Step 1 : Login to acquire "Access Token" to Sony API.
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseOne" class="collapse show" data-parent="#accordion">
                                                                            <form id="loginForm">
                                                                                <div class="card-body">
                                                                                    <div class="form-group">
                                                                                        <label for="clientId">Client ID</label>
                                                                                        <input type="text" name="clientId" class="form-control" id="clientId" placeholder="Enter Client ID" value="6b8bbe61-f6e0-4490-ba1e-c6566574162">
                                                                                    </div>
                                                                                    <div>
                                                                                        <label for="taToken">Token</label>
                                                                                        <textarea id="taToken" class="form-control" cols="30" rows="3" readonly></textarea>
                                                                                        <br />
                                                                                        <label for="spanTokenExpire">Expiration</label>
                                                                                        <span id='spanTokenExpire'></span>
                                                                                        <br />
                                                                                        <label for="spanTokenLastUpdate"> Last update</label>
                                                                                        <span id='spanTokenLastUpdate'></span>
                                                                                        <br />
                                                                                        <a class="btn btn-outline-dark" id="btnCopyToken">
                                                                                            <i class="fas fa-copy"></i> Copy Token
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="card-footer">
                                                                                    <a class="btn btn-success" id="btnLogin">
                                                                                        <i class="fas fa-sign-in-alt"></i> Login
                                                                                    </a>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseTwo">
                                                                                    Step 2 : Custom Vision project
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseTwo" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 3 : Save AI Model
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 4 : Convert AI Model
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 5 : Publish AI Model
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 6 : Prepare Deployment
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 7 : Deploy AI Model
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                    <div class="card card-primary">
                                                                        <div class="card-header">
                                                                            <h4 class="card-title w-100">
                                                                                <a class="d-block w-100" data-toggle="collapse" href="#collapseThree">
                                                                                    Step 8 : Start/Stop Image Capture
                                                                                </a>
                                                                            </h4>
                                                                        </div>
                                                                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                                                                        </div>
                                                                    </div>
                                                                </div> <!-- End of Accordion -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade" id="tab-telemetry" role="tabpanel" aria-labelledby="tab-telemetry-tab">
                                                placeholder for telemetry
                                            </div>
                                            <div class="tab-pane fade" id="tab-ai-result" role="tabpanel" aria-labelledby="tab-ai-result-tab">
                                                placeholder for AI Result View
                                            </div>
                                            <div class="tab-pane fade" id="tab-other" role="tabpanel" aria-labelledby="tab-other-tab">
                                                placeholder for other (firmware info etc)
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /setup -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <footer class="main-footer">
            <strong>Copyright &copy; 2014-2021 <a href="">Hooter</a>.</strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Version</b> 0.0.0
            </div>
        </footer>

        <!-- JS -->
        <!-- jquery -->
        <script src="lib/jquery/dist/jquery.min.js"></script>
        <script src="lib/jquery-validation/dist/jquery.validate.min.js"></script>
        <script src="lib/jquery-validation/dist/additional-methods.min.js"></script>
        <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <!-- adminLTE -->
        <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
        <!-- MSAL -->
        <script src="/js/azure/msal/dist/msal.js"></script>
        <!-- Local -->
        <script src="/js/SonyAPI.js"></script>
        <!--<script src="/js/site.js"></script>-->
        <script>
            var expiresOn = '';

            $(document).ready(function () {
                sonyApiInitialize();
            })

            $('#btnLogin').click(function () {
                $('#loginForm').valid();
                sonyApiAuth();
                getLoginToken();
            })

            $('#loginForm').validate({
                rules: {
                    clientId: {
                        required: true,
                        minlength: 35
                    },
                },
                messages: {
                    clientId: {
                        required: "Please enter a Client ID",
                        minlength: "Please enter a valid Client ID"
                    }
                },
                errorElement: 'span',
                errorPlacement: function (error, element) {
                    error.addClass('invalid-feedback');
                    element.closest('.form-group').append(error);
                },
                highlight: function (element, errorClass, validClass) {
                    $(element).addClass('is-invalid');
                },
                unhighlight: function (element, errorClass, validClass) {
                    $(element).removeClass('is-invalid');
                }
            });
        </script>
    </body>
</html>